<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ê¸¸ìŒí•œì˜ì› | ì¸ìŠë¦° ì €í•­ì„± ìê°€ì§„ë‹¨</title>
    <meta name="description" content="ê¸¸ìŒí•œì˜ì›ì—ì„œ ì œê³µí•˜ëŠ” ì¸ìŠë¦° ì €í•­ì„± ìê°€ì§„ë‹¨ í…ŒìŠ¤íŠ¸. ì‹í›„ í”¼ë¡œê°, ë³µë¶€ë¹„ë§Œ, ë§Œì„±í”¼ë¡œ ë“± ë‚´ ëª¸ì˜ ìƒíƒœë¥¼ í™•ì¸í•˜ê³  í•œì˜í•™ì  ì›ì¸ê³¼ ê´€ë¦¬ë²•ê¹Œì§€ ì•Œì•„ë³´ì„¸ìš”.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Noto Sans KR', 'Malgun Gothic', 'Apple SD Gothic Neo', sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #fbf9f4;
            color: #3b3b3b;
        }
        .header {
            text-align: center;
            padding: 20px 10px;
            background-color: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }
        .container {
            background: #ffffff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            max-width: 800px;
            margin: 30px auto;
        }
        h1, h2, h3, h4, h5 { color: #3b3b3b; }
        h1 { text-align: center; color: #5a6e5a; margin-bottom: 25px; }
        .section-title { font-size: 1.6em; color: #5a6e5a; border-bottom: 2px solid #5a6e5a; padding-bottom: 8px; margin-top: 35px; margin-bottom: 25px; }
        
        /* ê¸°ë³¸ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        button, .btn {
            color: white;
            padding: 14px 22px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1em;
            transition: background-color 0.3s ease;
            display: block;
            width: 100%;
            margin-top: 20px;
            box-sizing: border-box;
            text-align: center;
        }
        #analyzeBtn { background-color: #5a6e5a; }
        #analyzeBtn:hover { background-color: #4a5c4a; }

        /* â–¼â–¼â–¼â–¼â–¼ ìƒˆë¡œ ì¶”ê°€ëœ ë²„íŠ¼ë“¤ì„ ìœ„í•œ ìŠ¤íƒ€ì¼ â–¼â–¼â–¼â–¼â–¼ */
        .action-buttons {
            margin-top: 30px;
            display: flex;
            gap: 15px; /* ë²„íŠ¼ ì‚¬ì´ ê°„ê²© */
            justify-content: center;
        }
        .action-buttons .btn {
            width: auto;
            flex-grow: 1; /* ë²„íŠ¼ì´ ê³µê°„ì„ ê· ë“±í•˜ê²Œ ì°¨ì§€ */
            padding: 12px 20px;
            font-size: 1em;
            text-decoration: none;
        }
        .btn-gohome {
            background-color: #5a6e5a; /* í™ˆí˜ì´ì§€ë¡œ ê°€ê¸° ë²„íŠ¼ (ì§„í•œ ë…¹ìƒ‰) */
            color: #ffffff;
            border: 1px solid #5a6e5a;
        }
        .btn-reset {
            background-color: #ffffff; /* ë‹¤ì‹œ ê²€ì‚¬í•˜ê¸° ë²„íŠ¼ (í°ìƒ‰) */
            color: #5a6e5a;
            border: 1px solid #5a6e5a;
        }
        /* â–²â–²â–²â–²â–² ì—¬ê¸°ê¹Œì§€ ì¶”ê°€ â–²â–²â–²â–²â–² */

        #results { margin-top: 30px; padding: 25px; background-color: #f7f7f7; border-left: 6px solid #5a6e5a; border-radius: 5px; }
        label { display: block; margin-bottom: 8px; font-weight: bold; color: #495057; }
        input[type="text"], input[type="number"], select { width: 100%; padding: 12px; margin-bottom: 18px; border: 1px solid #ced4da; border-radius: 5px; box-sizing: border-box; font-size: 1em; }
        input[type="checkbox"] { margin-right: 10px; vertical-align: middle; }
        .checkbox-group label { font-weight: normal; display: inline-block; margin-bottom: 10px; cursor: pointer; }
        #results ul { padding-left: 20px; list-style: disc; }
        .warning { color: #856404; font-weight: bold; margin-bottom: 20px; padding: 15px; background-color: #fff3cd; border: 1px solid #ffeeba; border-radius: 5px; text-align: center; }
        .risk-low { color: #28a745; font-weight: bold; }
        .risk-moderate { color: #fd7e14; font-weight: bold; }
        .risk-high { color: #dc3545; font-weight: bold; }
        .required-mark { color: #dc3545; margin-left: 3px;}
    </style>
</head>
<body>

<div class="header">
    <a href="https://goodnewshani.my.canva.site/">
        <img src="https://i.imgur.com/P1A4g62.png" alt="ê¸¸ìŒí•œì˜ì› ë¡œê³ " style="max-height: 40px;">
    </a>
</div>

<div class="container">
    <h1>ì¸ìŠë¦° ì €í•­ì„± ìê°€ í…ŒìŠ¤íŠ¸</h1>
    <p class="warning"><strong>ì£¼ì˜:</strong> ì´ ì„¤ë¬¸ì€ ì˜í•™ì  ì§„ë‹¨ì„ ëŒ€ì²´í•  ìˆ˜ ì—†ìœ¼ë©°, ì°¸ê³ ìš©ìœ¼ë¡œë§Œ ì‚¬ìš©í•´ì£¼ì‹­ì‹œì˜¤. ê±´ê°• ë¬¸ì œë‚˜ ìš°ë ¤ ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ë°˜ë“œì‹œ <strong>í•œì˜ì‚¬ ë˜ëŠ” ì˜ì‚¬</strong>ì™€ ìƒë‹´í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.</p>
    
    <form id="insulinSurvey">
        <h2 class="section-title">ê¸°ë³¸ ì •ë³´</h2>
        <div><label for="age">ë‚˜ì´ (ì„¸)<span class="required-mark">*</span>:</label><input type="number" id="age" name="age" required></div>
        <div><label for="height">í‚¤ (cm)<span class="required-mark">*</span>:</label><input type="number" id="height" name="height" step="0.1" required></div>
        <div><label for="weight">ì²´ì¤‘ (kg)<span class="required-mark">*</span>:</label><input type="number" id="weight" name="weight" step="0.1" required></div>
        <div><label for="gender">ì„±ë³„<span class="required-mark">*</span>:</label><select id="gender" name="gender" required><option value="">ì„ íƒí•˜ì„¸ìš”</option><option value="male">ë‚¨ì„±</option><option value="female">ì—¬ì„±</option></select></div>
        <h2 class="section-title">ìœ„í—˜ ìš”ì¸ ì²´í¬</h2>
        <div class="checkbox-group"><input type="checkbox" id="familyDiabetes" name="riskFactors" value="familyDiabetes"> <label for="familyDiabetes">ë‹¹ë‡¨ë³‘ ê°€ì¡±ë ¥ (ë¶€ëª¨, í˜•ì œìë§¤)</label><br><input type="checkbox" id="sedentaryLifestyle" name="riskFactors" value="sedentaryLifestyle"> <label for="sedentaryLifestyle">ì¢Œì‹ ìƒí™œ (í•˜ë£¨ ëŒ€ë¶€ë¶„ ì•‰ì•„ìˆê³ , ê·œì¹™ì ì¸ ìš´ë™ ì•ˆ í•¨)</label><br><input type="checkbox" id="highBloodPressure" name="riskFactors" value="highBloodPressure"> <label for="highBloodPressure">ê³ í˜ˆì•• ì§„ë‹¨ ë˜ëŠ” í˜ˆì••ì•½ ë³µìš© ì¤‘</label><br><input type="checkbox" id="dyslipidemia" name="riskFactors" value="dyslipidemia"> <label for="dyslipidemia">ì´ìƒì§€ì§ˆí˜ˆì¦(ê³ ì§€í˜ˆì¦) ì§„ë‹¨ ë˜ëŠ” ì•½ ë³µìš© ì¤‘</label><br><input type="checkbox" id="gestationalDiabetes" name="riskFactors" value="gestationalDiabetes" class="female-only"> <label for="gestationalDiabetes">ê³¼ê±° ì„ì‹ ì„± ë‹¹ë‡¨ë³‘ ì§„ë‹¨ ê²½í—˜ (ì—¬ì„±)</label><br><input type="checkbox" id="pcos" name="riskFactors" value="pcos" class="female-only"> <label for="pcos">ë‹¤ë‚­ì„± ë‚œì†Œ ì¦í›„êµ° ì§„ë‹¨ ê²½í—˜ (ì—¬ì„±)</label><br><input type="checkbox" id="sleepDeprivation" name="riskFactors" value="sleepDeprivation"> <label for="sleepDeprivation">ë§Œì„±ì ì¸ ìˆ˜ë©´ ë¶€ì¡± (í‰ê·  ìˆ˜ë©´ ì‹œê°„ 6ì‹œê°„ ë¯¸ë§Œ)</label><br><input type="checkbox" id="highCarbDiet" name="riskFactors" value="highCarbDiet"> <label for="highCarbDiet">ê³ íƒ„ìˆ˜í™”ë¬¼/ê°€ê³µì‹í’ˆ ìœ„ì£¼ì˜ ì‹ë‹¨</label><br><input type="checkbox" id="smoking" name="riskFactors" value="smoking"> <label for="smoking">í¡ì—°</label><br></div>
        <h2 class="section-title">ì£¼ìš” ì¦ìƒ ì²´í¬</h2>
        <div class="checkbox-group"><input type="checkbox" id="postMealFatigue" name="symptoms" value="postMealFatigue"> <label for="postMealFatigue">ì‹í›„ ì‹¬í•œ í”¼ë¡œê°ì´ë‚˜ ì¡¸ìŒ</label><br><input type="checkbox" id="sugarCravings" name="symptoms" value="sugarCravings"> <label for="sugarCravings">ë‹¨ ìŒì‹ì´ë‚˜ íƒ„ìˆ˜í™”ë¬¼ì— ëŒ€í•œ ê°•í•œ ê°ˆë§</label><br><input type="checkbox" id="abdominalObesity" name="symptoms" value="abdominalObesity"> <label for="abdominalObesity">ë³µë¶€ ë¹„ë§Œ (í—ˆë¦¬ë‘˜ë ˆ ì¦ê°€)</label><br><input type="checkbox" id="frequentHunger" name="symptoms" value="frequentHunger"> <label for="frequentHunger">ì‹ì‚¬ í›„ì—ë„ ê¸ˆë°© ë°°ê³ í””ì„ ëŠë‚Œ</label><br><input type="checkbox" id="skinProblems" name="symptoms" value="skinProblems"> <label for="skinProblems">í”¼ë¶€ ë¬¸ì œ (ì˜ˆ: ì¥ì –, ì—¬ë“œë¦„, í‘ìƒ‰ê·¹ì„¸í¬ì¦ - ê²¨ë“œë‘ì´, ëª©ë’¤ ë“±)</label><br><input type="checkbox" id="concentrationDifficulties" name="symptoms" value="concentrationDifficulties"> <label for="concentrationDifficulties">ì§‘ì¤‘ë ¥ ì €í•˜ ë° ë¨¸ë¦¬ê°€ ë§‘ì§€ ì•Šì€ ëŠë‚Œ</label><br><input type="checkbox" id="increasedThirst" name="symptoms" value="increasedThirst"> <label for="increasedThirst">ì¦ì€ ê°ˆì¦ ë˜ëŠ” ë‹¤ë‡¨</label><br><input type="checkbox" id="tinglingSensation" name="symptoms" value="tinglingSensation"> <label for="tinglingSensation">ì†ë°œ ì €ë¦¼ ë˜ëŠ” ë”°ë”ê±°ë¦¼ (ëšœë ·í•œ ì›ì¸ ì—†ì´)</label><br><input type="checkbox" id="chronicFatigue" name="symptoms" value="chronicFatigue"> <label for="chronicFatigue">ë§Œì„±ì ì¸ í”¼ë¡œê° (ì¶©ë¶„íˆ ìë„ ê°œìš´í•˜ì§€ ì•ŠìŒ)</label><br><input type="checkbox" id="frequentInfections" name="symptoms" value="frequentInfections"> <label for="frequentInfections">ì¦ì€ ì—¼ì¦ì´ë‚˜ ê°ì—¼ (ì˜ˆ: ì§ˆì—¼, ë°©ê´‘ì—¼, í”¼ë¶€ ê°ì—¼ ë“±)</label><br></div>
        <h2 class="section-title">í•œì˜í•™ì  ì¦ìƒ ì²´í¬ (ìŠµë‹´ ì˜ˆì¸¡)</h2>
        <p style="text-align:center; margin-top:-15px; margin-bottom:20px; color:#6c757d;">ì¸ìŠë¦° ì €í•­ì„±ì˜ í•œì˜í•™ì  ì›ì¸ì¸ 'ìŠµë‹´(æ¿•ç—°)'ì´ ì–¼ë§ˆë‚˜ ìŒ“ì—¬ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p>
        <div class="checkbox-group"><input type="checkbox" id="bodyHeaviness" name="orientalSymptoms" value="bodyHeaviness"> <label for="bodyHeaviness">ëª¸ì´ ì²œê·¼ë§Œê·¼ ë¬´ê²ê³  ìì£¼ ë¶“ëŠ”ë‹¤</label><br><input type="checkbox" id="indigestion" name="orientalSymptoms" value="indigestion"> <label for="indigestion">ì†Œí™”ê°€ ì˜ ì•ˆ ë˜ê³  ì†ì´ ë”ë¶€ë£©í•˜ë‹¤</label><br><input type="checkbox" id="phlegm" name="orientalSymptoms" value="phlegm"> <label for="phlegm">ì•„ì¹¨ì— ê°€ë˜ê°€ ë§ì´ ë‚€ë‹¤</label><br><input type="checkbox" id="dizziness" name="orientalSymptoms" value="dizziness"> <label for="dizziness">ë¨¸ë¦¬ê°€ ë§‘ì§€ ì•Šê³  ì–´ì§€ëŸ¬ìš¸ ë•Œê°€ ìˆë‹¤</label><br><input type="checkbox" id="jointPain" name="orientalSymptoms" value="jointPain"> <label for="jointPain">ë¹„ê°€ ì˜¤ê±°ë‚˜ ìŠµí•œ ë‚ ì”¨ì— ê´€ì ˆì´ ì‘¤ì‹ ë‹¤</label><br></div>
        
        <button type="button" id="analyzeBtn" class="btn" onclick="analyzeResults()">ê²°ê³¼ ë¶„ì„í•˜ê¸°</button>
    </form>
    
    <div id="results"></div>
</div>

<script>
    const clinicsData={ì„œìš¸:{ì„±ë¶êµ¬:[{name:"ê¸¸ìŒí•œì˜ì›",address:"ì„±ë¶êµ¬ ê¸¸ìŒë¡œ 10, 2ì¸µ",contact:"02-943-1668",website:"https://goodnewshani.my.canva.site",websiteLabel:"í™ˆí˜ì´ì§€",naverBooking:"[ê¸¸ìŒí•œì˜ì› ë„¤ì´ë²„ ì˜ˆì•½ ë§í¬]"}]}};let currentChart=null;document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("gender"),t=document.querySelectorAll(".female-only");function n(){const n="female"===e.value;t.forEach(e=>{const t=e.querySelector('input[type="checkbox"]');t&&(t.disabled=!n,n||(t.checked=!1)),e.style.opacity=n?1:.5})}e.addEventListener("change",n),n()});

    // â–¼â–¼â–¼â–¼â–¼ 'ë‹¤ì‹œ ê²€ì‚¬í•˜ê¸°' ê¸°ëŠ¥ì„ ìœ„í•œ í•¨ìˆ˜ ì¶”ê°€ â–¼â–¼â–¼â–¼â–¼
    function resetTest() {
        document.getElementById('insulinSurvey').reset(); // í¼ ë‚´ìš© ì „ì²´ ì´ˆê¸°í™”
        document.getElementById('results').innerHTML = ''; // ê²°ê³¼ ì˜ì—­ ë¹„ìš°ê¸°
        window.scrollTo({ top: 0, behavior: 'smooth' }); // í˜ì´ì§€ ë§¨ ìœ„ë¡œ ë¶€ë“œëŸ½ê²Œ ìŠ¤í¬ë¡¤
    }
    // â–²â–²â–²â–²â–² ì—¬ê¸°ê¹Œì§€ ì¶”ê°€ â–²â–²â–²â–²â–²

    function analyzeResults(){const e=document.getElementById("age"),t=document.getElementById("height"),n=document.getElementById("weight"),a=document.getElementById("gender"),l=parseInt(e.value),i=parseFloat(t.value),o=parseFloat(n.value),s=a.value;if(isNaN(l)||l<=0||isNaN(i)||i<=0||isNaN(o)||o<=0||!s)return void alert("ë‚˜ì´, í‚¤, ì²´ì¤‘, ì„±ë³„ì„ ëª¨ë‘ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•´ì£¼ì„¸ìš”.");let d=0;let r="<h3>ğŸ“Š ê²€ì‚¬ ê²°ê³¼ ë¶„ì„</h3>";const c=i/100,m=o/(c*c);r+=`<p><strong>BMI:</strong> ${m.toFixed(2)} `,"male"===s?m<18.5?r+="(ì €ì²´ì¤‘)":m<23?r+="(ì •ìƒì²´ì¤‘)":m<25?(r+="(ê³¼ì²´ì¤‘)",d+=2):m<30?(r+="(ê²½ë„ë¹„ë§Œ)",d+=3):(r+="(ì¤‘ë“±ë„ì´ìƒ ë¹„ë§Œ)",d+=4):m<18.5?r+="(ì €ì²´ì¤‘)":m<24?r+="(ì •ìƒì²´ì¤‘)":m<28?(r+="(ê³¼ì²´ì¤‘)",d+=2):m<32?(r+="(ê²½ë„ë¹„ë§Œ)",d+=3):(r+="(ì¤‘ë“±ë„ì´ìƒ ë¹„ë§Œ)",d+=4),r+="</p>",l>=40&&l<50?(d+=1,r+="<p><strong>ë‚˜ì´ëŒ€:</strong> 40ëŒ€ (ì£¼ì˜ ì‹œì‘ êµ¬ê°„ +1ì )</p>"):l>=50&&(d+=2,r+="<p><strong>ë‚˜ì´ëŒ€:</strong> 50ëŒ€ ì´ìƒ (ìœ„í—˜ ì¦ê°€ êµ¬ê°„ +2ì )</p>");let u="<h4>ìœ„í—˜ ìš”ì¸</h4><ul>",h=0;document.querySelectorAll('input[name="riskFactors"]:checked').forEach(e=>{h++;let t=1;let n=e.nextElementSibling.textContent;"familyDiabetes"===e.value?(t=2,n+=" (+2ì )"):"highBloodPressure"===e.value||"dyslipidemia"===e.value?(t=2,n+=" (+2ì )"):"female"===s&&("gestationalDiabetes"===e.value||"pcos"===e.value)?(t=2,n+=" (+2ì )"):"highCarbDiet"===e.value&&(t=2,n+=" (+2ì )"),d+=t,u+=`<li>${n}</li>`}),u+=0===h?"<li>ì„ íƒëœ ìœ„í—˜ ìš”ì¸ ì—†ìŒ</li></ul>":"</ul>",r+=u;let g="<h4>ì£¼ìš” ì¦ìƒ</h4><ul>",p=0;document.querySelectorAll('input[name="symptoms"]:checked').forEach(e=>{p++;let t=1,n=e.nextElementSibling.textContent;if("abdominalObesity"===e.value)t=2,n+=" (+2ì )";else if("skinProblems"===e.value){const e=item.nextElementSibling.textContent;e.includes("í‘ìƒ‰ê·¹ì„¸í¬ì¦")?(t=3,n=e+" (+3ì )"):(t=1,n=e+" (+1ì )")}else"sugarCravings"===e.value||"postMealFatigue"===e.value?(t=2,n+=" (+2ì )"):n+=" (+1ì )";d+=t,g+=`<li>${n}</li>`}),g+=0===p?"<li>ì„ íƒëœ ì£¼ìš” ì¦ìƒ ì—†ìŒ</li></ul>":"</ul>",r+=g;let b="<h4>í•œì˜í•™ì  ìŠµë‹´(æ¿•ç—°) ë¶„ì„</h4><ul>",v=0,f=0;document.querySelectorAll('input[name="orientalSymptoms"]:checked').forEach(e=>{v++,f+=2,b+=`<li>${e.nextElementSibling.textContent}</li>`}),d+=f,b+=0===v?"<li>ì„ íƒëœ í•œì˜í•™ì  ì¦ìƒ ì—†ìŒ</li>":v>=3?'<li><strong style="color:#dc3545;">í•œì˜í•™ì  ì†Œê²¬:</strong> ë‹¤ìˆ˜ì˜ ì¦ìƒìœ¼ë¡œ ë³´ì•„ ì²´ë‚´ ë…¸íë¬¼ì¸ <strong>ìŠµë‹´(æ¿•ç—°)</strong>ì´ ë§ì„ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤. ì´ëŠ” ì¸ìŠë¦° ì €í•­ì„±ì„ ì•…í™”ì‹œí‚¤ëŠ” ì£¼ìš” ì›ì¸ì´ë¯€ë¡œ, í•œì˜ì›ì—ì„œ ì •í™•í•œ ì§„ë‹¨ê³¼ ì¹˜ë£Œë¥¼ ë°›ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.</li>':"",b+="</ul>",r+=b,r+=`<hr><p style="font-size:1.2em;"><strong>ì´ ì ìˆ˜: ${d}ì </strong></p>`;let y="";d<5?y="<span class='risk-low'>ë‚®ìŒ</span>":d<10?y="<span class='risk-moderate'>ì£¼ì˜</span>":d<15?y="<span class='risk-high'>ë†’ìŒ</span>":y="<span class='risk-high'>ë§¤ìš° ë†’ìŒ</span>",r+=`<p style="font-size:1.2em;"><strong>ìµœì¢… ìœ„í—˜ë„: ${y}</strong></p><p>${getRiskDescription(d)}</p>`;const k=document.getElementById("results");k.innerHTML=`<canvas id="resultChart" style="max-width: 100%; margin: 0 auto 25px auto; display: block;"></canvas><div id="analysisTextContainer"></div>`,document.getElementById("analysisTextContainer").innerHTML=r,drawResultChart(d),initializeClinicFinder(k)}function getRiskDescription(e){return e<5?"í˜„ì¬ ì¸ìŠë¦° ì €í•­ì„± ìœ„í—˜ì´ ë‚®ì•„ ë³´ì…ë‹ˆë‹¤. ê±´ê°•í•œ ìƒí™œ ìŠµê´€ì„ ìœ ì§€í•˜ì„¸ìš”.":e<10?"ì¸ìŠë¦° ì €í•­ì„± ìœ„í—˜ì— ì£¼ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤. ì‹ìŠµê´€ê³¼ ìš´ë™ ë“± ìƒí™œ ìŠµê´€ ê°œì„ ì„ ê³ ë ¤í•´ë³´ì„¸ìš”.":e<15?"ì¸ìŠë¦° ì €í•­ì„± ìœ„í—˜ì´ ë†’ì€ í¸ì…ë‹ˆë‹¤. ìƒí™œ ìŠµê´€ ê°œì„ ê³¼ í•¨ê»˜ ì „ë¬¸ê°€ì™€ ìƒë‹´ì„ ë°›ëŠ” ê²ƒì„ ì ê·¹ ê¶Œì¥í•©ë‹ˆë‹¤.":"ì¸ìŠë¦° ì €í•­ì„± ìœ„í—˜ì´ ë§¤ìš° ë†’ìŠµë‹ˆë‹¤. ë°˜ë“œì‹œ ì „ë¬¸ê°€ì™€ ìƒë‹´í•˜ì—¬ ì •í™•í•œ ì§„ë‹¨ê³¼ ê´€ë¦¬ë¥¼ ë°›ìœ¼ì‹œê¸¸ ë°”ëë‹ˆë‹¤."}function getRiskColor(e){return e<5?"rgba(40, 167, 69, 0.8)":e<10?"rgba(253, 126, 20, 0.8)":"rgba(220, 53, 69, 0.8)"}function drawResultChart(e){currentChart&&currentChart.destroy();const t=document.getElementById("resultChart").getContext("2d");currentChart=new Chart(t,{type:"bar",data:{labels:["ë‚˜ì˜ ìœ„í—˜ë„ ì ìˆ˜"],datasets:[{label:"ì ìˆ˜",data:[e],backgroundColor:[getRiskColor(e)],borderColor:[getRiskColor(e)],borderWidth:1,borderRadius:5,barPercentage:.4}]},options:{indexAxis:"y",scales:{x:{beginAtZero:!0,max:Math.max(25,e+5)},y:{ticks:{font:{size:14,weight:"bold"}}}},plugins:{legend:{display:!1},title:{display:!0,text:"ì¸ìŠë¦° ì €í•­ì„± ìœ„í—˜ë„",font:{size:18}}}}})}
    
    function initializeClinicFinder(e){
        // â–¼â–¼â–¼â–¼â–¼ ê¸°ì¡´ í•œì˜ì› ì¶”ì²œ ì„¹ì…˜ ìƒì„± í›„, ë§ˆì§€ë§‰ì— ë²„íŠ¼ ì¶”ê°€í•˜ëŠ” ë¡œì§ìœ¼ë¡œ ìˆ˜ì • â–¼â–¼â–¼â–¼â–¼
        let recommendationsDiv = document.getElementById('clinicRecommendations');
        if (!recommendationsDiv) {
            recommendationsDiv = document.createElement('div');
            recommendationsDiv.id = 'clinicRecommendations';
            e.appendChild(recommendationsDiv);
        }
        recommendationsDiv.innerHTML = `<h3>ì „ë¬¸ í•œì˜ì› ìƒë‹´ ì•ˆë‚´</h3><p>ë³´ë‹¤ ì „ë¬¸ì ì´ê³  ìì„¸í•œ ë‚´ìš©ì€ ì„¤ë¬¸ ê²°ê³¼ì™€ ê´€ê³„ ì—†ì´, ì•„ë˜ ì§€ì—­ë³„ ê±°ì  í•œì˜ì›ì„ ë°©ë¬¸í•˜ì—¬ ì‹¬ì¸µì ì¸ ì§„ë£Œ ë° ìƒë‹´ì„ ë°›ì•„ë³´ì‹œëŠ” ê²ƒì„ ê¶Œí•´ë“œë¦½ë‹ˆë‹¤.</p><div id="majorRegionSelector" class="region-selector"></div><div id="subRegionSelector" class="region-selector" style="margin-top:15px; display:none;"></div><div id="clinicDisplay" style="margin-top:20px;"></div>`;
        
        const n=document.getElementById("majorRegionSelector");for(const e in clinicsData){const a=document.createElement("button");a.className="btn",a.textContent=e,a.onclick=()=>showSubRegions(e),n.appendChild(a)}

        // ìµœì¢… ì•¡ì…˜ ë²„íŠ¼ ì»¨í…Œì´ë„ˆ ì¶”ê°€
        const actionButtonDiv = document.createElement('div');
        actionButtonDiv.className = 'action-buttons';
        actionButtonDiv.innerHTML = `
            <button type="button" class="btn btn-reset" onclick="resetTest()">ë‹¤ì‹œ ê²€ì‚¬í•´ë³´ê¸°</button>
            <a href="https://goodnewshani.my.canva.site/" class="btn btn-gohome">í™ˆí˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸°</a>
        `;
        e.appendChild(actionButtonDiv);
        // â–²â–²â–²â–²â–² ì—¬ê¸°ê¹Œì§€ ìˆ˜ì • â–²â–²â–²â–²â–²
    }
    
    function showSubRegions(e){document.querySelectorAll("#majorRegionSelector button").forEach(t=>{t.classList.toggle("active",t.textContent===e)});const t=document.getElementById("subRegionSelector"),n=document.getElementById("clinicDisplay");t.innerHTML="",n.innerHTML="",t.style.display="block";const a=clinicsData[e];for(const e in a){const l=document.createElement("button");l.className="btn",l.textContent=e,l.onclick=()=>showClinicDetails(majorRegionName,e),t.appendChild(l)}}function showClinicDetails(e,t){document.querySelectorAll("#subRegionSelector button").forEach(n=>{n.classList.toggle("active",n.textContent===t)});const n=document.getElementById("clinicDisplay");n.innerHTML="";const a=clinicsData?.[e]?.[t]||[];a.forEach(e=>{const t=document.createElement("div");t.className="clinic-info-wrapper";const a=document.createElement("div");a.className="clinic-info";let l=`<h5>${e.name}</h5><p><strong>ì£¼ì†Œ:</strong> ${e.address}</p><p><strong>ì—°ë½ì²˜:</strong> ${e.contact}</p>`;e.website&&(l+=`<p><strong>${e.websiteLabel}:</strong> <a href="${e.website}" target="_blank">${e.website.replace(/^(https?:\/\/)?(www\.)?/,"")}</a></p>`),e.naverBooking&&(l+=`<a href="${e.naverBooking}" target="_blank" class="btn" style="background-color:#2DB400; color:white; padding:8px 12px; font-size:0.9em; margin-top:10px; display:inline-block; width:auto;">ë„¤ì´ë²„ ì˜ˆì•½</a>`),a.innerHTML=l,t.appendChild(a),n.appendChild(t)})}
</script>

</body>
</html>
